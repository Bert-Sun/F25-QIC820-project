\RequirePackage{amsmath, amssymb, amsthm, mathrsfs, mathtools, enumitem, xcolor}
\RequirePackage{tikz, nicematrix}

% \RequirePackage{xparse, expl3} % to loop define some mathbb/cal/scr commands

\newcommand{\mb}[1]{\mathbb{#1}}

\newcommand{\ot}{\otimes}
\newcommand*{\tsf}[1]{\textsf{#1}}

% gotta clean this up sometime oop
\newcommand{\En}{\ensuremath{\mathbb{N}}}
\newcommand{\Que}{\ensuremath{\mathbb{Q}}}
\newcommand{\Ree}{\ensuremath{\mathbb{R}}}
\newcommand{\Zee}{\ensuremath{\mathbb{Z}}}
\newcommand{\Kay}{\ensuremath{\mathbb{K}}}
\newcommand{\Cee}{\ensuremath{\mathbb{C}}}
\newcommand{\Tee}{\ensuremath{\mathbb{T}}}
\newcommand{\Eff}{\ensuremath{\mathbb{F}}}
\newcommand{\Ess}{\ensuremath{\mathbb{S}}}
\newcommand{\Essp}{\ensuremath{\mathbb{S}_{+}}}
\newcommand{\Esspp}{\ensuremath{\mathbb{S}_{++}}}
\newcommand{\Reep}{\ensuremath{\mathbb{R}_+}}
\newcommand{\Reepp}{\ensuremath{\mathbb{R}_{++}}}
\newcommand{\Ach}{\ensuremath{\mathbb{H}}}
\newcommand{\mbP}{\ensuremath{\mathbb{P}}}
\newcommand{\mbA}{\ensuremath{\mathbb{A}}}

\newcommand{\mcF}{\ensuremath{\mathcal{F}}}
\newcommand{\mcP}{\ensuremath{\mathcal{P}}}
\newcommand{\mcB}{\ensuremath{\mathcal{B}}}
\newcommand{\mcA}{\ensuremath{\mathcal{A}}}
\newcommand{\mcS}{\ensuremath{\mathcal{S}}}
\newcommand{\mcH}{\ensuremath{\mathcal{H}}}
\newcommand{\mcK}{\ensuremath{\mathcal{K}}}
\newcommand{\mcC}{\ensuremath{\mathcal{C}}}
\newcommand{\mcL}{\ensuremath{\mathcal{L}}}
\newcommand{\mcG}{\ensuremath{\mathcal{G}}}
\newcommand{\mcN}{\ensuremath{\mathcal{N}}}

\newcommand*{\mc}[1]{\mathcal{#1}}
\newcommand{\mce}{\mc{E}}

\newcommand{\eps}{\ensuremath{\varepsilon}}

\newcommand{\one}{\text{\usefont{U}{bbold}{m}{n}1}}
\newcommand{\zero}{\text{\usefont{U}{bbold}{m}{n}0}}

\newcommand*{\tnorm}[1]{|\!|\!|#1|\!|\!|}

\newcommand*{\wbar}[1]{\overline{#1}}

\newcommand{\imps}{\Rightarrow}
\newcommand{\Iff}{\Leftrightarrow}
\newcommand*{\limnfty}[1][n]{\lim_{#1\to\infty}}
% \NewDocumentCommand{\limnfty}{O{n}}{\lim_{#1\to\infty}}
\newcommand*{\suminf}[1]{\sum_{#1=1}^{\infty}}
\newcommand*{\sumto}[2]{\sum_{#1=1}^{#2}}
\newcommand*{\seqnfty}[1][x]{(#1_n)_{n=1}^\infty}

\newcommand{\taninv}{\tan^{-1}}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\DeclareMathOperator{\diam}{diam}
\newcommand{\inv}[1]{#1^{-1}}

\DeclareMathOperator{\dist}{dist}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\Diag}{Diag}
\DeclareMathOperator{\spr}{spr}
\DeclareMathOperator{\Ind}{Ind}
\DeclareMathOperator{\ctrl}{c-}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator*{\spann}{span}
\DeclareMathOperator*{\ran}{ran}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\nullity}{nullity}
\DeclareMathOperator{\nullsp}{Null}
\DeclareMathOperator{\ext}{ext}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\re}{Re}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\relint}{relint}
\DeclareMathOperator*{\Aff}{Aff}
\DeclareMathOperator*{\conv}{conv}

\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiter\norm{\lVert}{\rVert}
\DeclarePairedDelimiter\bra{\langle}{\rvert}
\DeclarePairedDelimiter\ket{\lvert}{\rangle}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiterX\ip[2]{\langle}{\rangle}{#1\,\delimsize\vert\,\mathopen{}#2}
\DeclarePairedDelimiterX\op[2]{\lvert}{\rvert}{\mathopen{}#1\delimsize\rangle\delimsize\langle\mathopen{}#2}
\newcommand*{\opproj}[1]{\op{#1}{#1}}
\DeclareMathOperator{\QFT}{QFT}
\DeclareMathOperator{\Adv}{Adv}
\DeclareMathOperator{\Lin}{L}
\DeclareMathOperator{\Ops}{T}
\DeclareMathOperator{\Chan}{C}
\DeclareMathOperator{\Pos}{Pos}
\DeclareMathOperator{\Choi}{J}
\DeclareMathOperator{\Herm}{Herm}
\DeclareMathOperator{\dens}{D}
\DeclareMathOperator{\Dens}{\textsf{D}}


\newcommand{\ko}{\ket{0}}
\newcommand{\ki}{\ket{1}}
\newcommand{\koo}{\ket{00}}
\newcommand{\koi}{\ket{01}}
\newcommand{\kio}{\ket{10}}
\newcommand{\kii}{\ket{11}}
\newcommand{\cnot}{\textsc{cnot}}


% Swap the definition of \abs* and \norm*, so that \abs
% and \norm resizes the size of the brackets, and the 
% starred version does not.
\makeatletter
\let\oldabs\abs
\def\abs{\@ifstar{\oldabs}{\oldabs*}}
%
\let\oldnorm\norm
\def\norm{\@ifstar{\oldnorm}{\oldnorm*}}
\makeatother